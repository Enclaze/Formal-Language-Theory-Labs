\documentclass[12pt]{article}
% Поля
%-------------------------------------------------------------------
\usepackage{geometry}
\geometry{a4paper,tmargin=2cm,bmargin=2cm,lmargin=2cm,rmargin=2cm}
%-------------------------------------------------------------------

% Интервал
%--------------------------------------
\linespread{1.3}                    
%--------------------------------------

%Выравнивание и переносы
%--------------------------------------
\usepackage{needspace}
\sloppy
\clubpenalty=10000
\widowpenalty=10000
%--------------------------------------

% Поддержка русского языка
%-------------------------------------------------------------------
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc} 
\usepackage[english, main=russian]{babel}
%-------------------------------------------------------------------

% Математические символы
%-------------------------------------------------------------------
\usepackage{amsmath, amsthm, amssymb, tikz-cd}
\usepackage{amssymb}
\usepackage{physics}
%-------------------------------------------------------------------

\begin{document}

\clearpage
\newpage

\section{Задание}

Дана следующая SRS:

$\begin{cases}

aabc \rightarrow bbaa\\

b \rightarrow ccaa\\

bc \rightarrow a\\

aac \rightarrow \varepsilon\\

\end{cases}$

\vspace{7px}
\noindent
По данной SRS определить:

\begin{itemize}
    \item {завершимость;}
    \item {конечность классов эквивалентности по НФ (для построения эквивалентностей считаем, что правила могут применяться в обе стороны). Если их конечное число, то построить минимальную систему переписывания, им соответствующую;}
    \item{локальную конфлюэнтность и пополняемость по Кнуту-Бендиксу.}
\end{itemize}

Провести автоматическое тестирование предполагаемой эквивалентности двух
указанных SRS:

\textbf{Фазз-тестирование эквивалентности}: строится случайное слово $\omega$ и случайная цепочка переписываний его в $\omega'$ по $\mathcal{T}$. Проверить, можно ли получить $\omega'$ из $\omega$ (или наоборот) в рамках правил $\mathcal{T}'$.

\textbf{Метаморфное тестирование}: выбрать инварианты, которые должны сохраняться (либо монотонно изменяться) при переписывании в рамках $\mathcal{T}$. Породить случайную цепочку переписываний над случайным словом в $\mathcal{T}'$ и проверить выполнимость инвариантов. Как минимум два разных инварианта. 

\section{Завершимость}
\hspace{20px} Введём функцию $rev(\omega)$, которая будет разворачивать строку $\omega$. Зададим порядок букв c > b > a и сравнивать будем строки по их реверсам: слово $u$ считаем больше слова $v$, если $rev(u)$ лексикографически больше $rev(v)$ в алфавите c>b>a. $\varepsilon$ считаем минимальной строкой.

1) $rev$(aabc) = cbaa > $rev$(bbaa) = aabb $\Rightarrow$ aabc > bbaa;

2) $rev$(b) = b > $rev$(ccaa) = aacc $\Rightarrow$ b > ccaa;

3) $rev$(bc) = cb > $rev$(a) = a $\Rightarrow$ bc > a;

4) $rev$(aac) = caa > $\varepsilon$.

Видим, что фундированность выполняется, следовательно SRS является завершимой.

\section{Конечность классов эквивалентности по НФ}
Так как в данной SRS существует правило $aac \rightarrow \varepsilon$, а для построения эквивалентностей мы считаем, что правила могут применяться в обе стороны, то по этому правилу мы можем построить бесконечное количество различных строк, следовательно для данной SRS существует бесконечное количество классов эквивалентности.

\section{Локальная конфлюэнтность}

Рассмотрим неоднозначно сходящуюся критическую пару:

$u = aabc,$

$v = u \xrightarrow{R2} aaccaac \xrightarrow{R4} c,$ 

$w  = u\xrightarrow{R1} bbaa \xrightarrow{R2} ccaaccaaaa \xrightarrow{R4} cccaaaa,$

$v \neq w.$

$v$ и $w$ являются нормальными формами, однако они не равны, следовательно локальная конфлюэнтность не выполняется

\section{Пополняемость по Кнуту-Бендиксу}

\hspace{12px} Рассмотрим строку $aa(bc)^n$. В ней можно использовать бесконечное количество раз правила R1 и R3 и получить расходящуюся пару:

$aa(bc)^n \xrightarrow{R1} bbaa(bc)^{n-1} \xrightarrow{R1} \dots \xrightarrow{R1} b^{2n}aa$ 

$aa(bc)^n \xrightarrow{R3} aaa(bc)^{n-1} \xrightarrow{R3} \dots \xrightarrow{R3} a^{n+2}$

Следовательно алгоритм Кнута-Бендикса будет добавлять бесконечное число правил и процедура не завершится.

\section{Инварианты}

1) $I_1(s) = (2|\omega|_a + |\omega|_b + |\omega|_c) \text{ mod 5}$

\noindent 2) $I_2(s) = (2|\omega|_a + 6|\omega|_b + 6|\omega|_c) \text{ mod 10}$

\end{document}
